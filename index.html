<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Liverpool City Region ‚Äî Population Analysis 1991‚Äì2011</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet" />
  <style>
    :root {
      --navy: #0a1628;
      --deep: #0d1f3c;
      --blue: #1a3a6b;
      --accent: #e8b84b;
      --teal: #2ec4b6;
      --light: #f0f4ff;
      --muted: #8899bb;
      --text: #e8eeff;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: var(--navy);
      color: var(--text);
      font-family: 'DM Sans', sans-serif;
      font-weight: 300;
      min-height: 100vh;
      overflow-x: hidden;
    }
    /* Starfield BG */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background:
        radial-gradient(ellipse 800px 600px at 20% 30%, rgba(30,60,120,0.4) 0%, transparent 70%),
        radial-gradient(ellipse 600px 400px at 80% 70%, rgba(46,196,182,0.1) 0%, transparent 60%);
      z-index: 0;
      pointer-events: none;
    }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 2rem; position: relative; z-index: 1; }

    /* HEADER */
    header {
      padding: 4rem 0 2rem;
      border-bottom: 1px solid rgba(232,184,75,0.3);
    }
    .badge {
      display: inline-block;
      background: rgba(232,184,75,0.15);
      border: 1px solid rgba(232,184,75,0.4);
      color: var(--accent);
      font-size: 0.7rem;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      padding: 0.35rem 0.9rem;
      border-radius: 2px;
      margin-bottom: 1.2rem;
    }
    h1 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(2rem, 5vw, 3.5rem);
      font-weight: 900;
      line-height: 1.1;
      margin-bottom: 0.8rem;
    }
    h1 span { color: var(--accent); }
    .subtitle { color: var(--muted); font-size: 1rem; max-width: 600px; line-height: 1.7; }
    .meta-row {
      display: flex; gap: 2rem; margin-top: 1.5rem; flex-wrap: wrap;
    }
    .meta-item { font-size: 0.8rem; color: var(--muted); }
    .meta-item strong { color: var(--teal); display: block; font-size: 0.75rem; letter-spacing: 0.1em; text-transform: uppercase; }

    /* STATS ROW */
    .stats-grid {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 1rem; margin: 2.5rem 0;
    }
    .stat-card {
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 8px;
      padding: 1.4rem;
      position: relative;
      overflow: hidden;
      transition: transform 0.3s, border-color 0.3s;
    }
    .stat-card:hover { transform: translateY(-3px); border-color: rgba(232,184,75,0.4); }
    .stat-card::before {
      content: '';
      position: absolute; top: 0; left: 0; right: 0; height: 3px;
      background: var(--accent);
    }
    .stat-value {
      font-family: 'Playfair Display', serif;
      font-size: 2rem; font-weight: 700;
      color: var(--accent);
    }
    .stat-label { font-size: 0.75rem; color: var(--muted); margin-top: 0.3rem; line-height: 1.4; }

    /* CHOROPLETH */
    .section { margin: 3rem 0; }
    .section-title {
      font-family: 'Playfair Display', serif;
      font-size: 1.6rem;
      margin-bottom: 0.4rem;
    }
    .section-desc { color: var(--muted); font-size: 0.88rem; margin-bottom: 1.5rem; }

    .map-container {
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 12px;
      padding: 2rem;
    }
    .map-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
    @media(max-width:700px){ .map-grid{ grid-template-columns:1fr; } }

    canvas { width: 100% !important; display: block; }

    /* TABLE */
    .data-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.85rem;
      margin-top: 1rem;
    }
    .data-table th {
      background: rgba(232,184,75,0.12);
      color: var(--accent);
      text-align: left;
      padding: 0.7rem 1rem;
      font-weight: 500;
      letter-spacing: 0.05em;
      border-bottom: 1px solid rgba(232,184,75,0.3);
    }
    .data-table td {
      padding: 0.65rem 1rem;
      border-bottom: 1px solid rgba(255,255,255,0.05);
      color: var(--text);
    }
    .data-table tr:hover td { background: rgba(255,255,255,0.04); }
    .pos { color: #4ade80; }
    .neg { color: #f87171; }

    /* INSIGHT BOXES */
    .insights { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px,1fr)); gap: 1rem; margin-top: 2rem; }
    .insight {
      background: rgba(46,196,182,0.07);
      border: 1px solid rgba(46,196,182,0.25);
      border-radius: 8px;
      padding: 1.3rem 1.5rem;
    }
    .insight-icon { font-size: 1.4rem; margin-bottom: 0.5rem; }
    .insight-title { font-weight: 500; font-size: 0.9rem; margin-bottom: 0.4rem; color: var(--teal); }
    .insight-text { font-size: 0.82rem; color: var(--muted); line-height: 1.6; }

    footer {
      margin-top: 4rem;
      padding: 2rem 0;
      border-top: 1px solid rgba(255,255,255,0.06);
      color: var(--muted);
      font-size: 0.78rem;
    }
  </style>
</head>
<body>
<div class="container">
  <header>
    <span class="badge">Urban Planning ¬∑ GIS Analysis ¬∑ MSc Project</span>
    <h1>Liverpool City Region<br/><span>Population Analysis</span></h1>
    <p class="subtitle">
      Multi-decade ONS census data joined with LCR shapefiles in ArcGIS Pro to reveal population dynamics,
      commuting patterns, and industry clusters across six local authority districts from 1991 to 2011.
    </p>
    <div class="meta-row">
      <div class="meta-item"><strong>Period</strong>October 2024</div>
      <div class="meta-item"><strong>Tools</strong>ArcGIS Pro ¬∑ Python ¬∑ ONS API</div>
      <div class="meta-item"><strong>Data</strong>ONS Census 1991, 2001, 2011</div>
      <div class="meta-item"><strong>Author</strong>Nakul Gangan</div>
    </div>
  </header>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-value">1.5M</div>
      <div class="stat-label">LCR Population (2011)</div>
    </div>
    <div class="stat-card">
      <div class="stat-value">-3.2%</div>
      <div class="stat-label">Overall Change 1991‚Äì2011</div>
    </div>
    <div class="stat-card">
      <div class="stat-value">6</div>
      <div class="stat-label">Local Authority Districts</div>
    </div>
    <div class="stat-card">
      <div class="stat-value">20 yrs</div>
      <div class="stat-label">Time Span Analysed</div>
    </div>
    <div class="stat-card">
      <div class="stat-value">3</div>
      <div class="stat-label">Census Snapshots Joined</div>
    </div>
  </div>

  <!-- POPULATION CHANGE CHART -->
  <section class="section">
    <h2 class="section-title">Population Change by District</h2>
    <p class="section-desc">Choropleth visualisation showing absolute population change across LCR local authority districts 1991‚Äì2011.</p>
    <div class="map-container">
      <div class="map-grid">
        <div>
          <canvas id="popChangeChart" height="320"></canvas>
        </div>
        <div>
          <canvas id="timeSeriesChart" height="320"></canvas>
        </div>
      </div>
    </div>
  </section>

  <!-- DAYTIME VS NIGHTTIME -->
  <section class="section">
    <h2 class="section-title">Daytime vs Night-time Population</h2>
    <p class="section-desc">Comparing resident (night-time) and workplace (daytime) populations to identify commuting zones and employment clusters.</p>
    <div class="map-container">
      <canvas id="dayNightChart" height="200"></canvas>
    </div>
  </section>

  <!-- DATA TABLE -->
  <section class="section">
    <h2 class="section-title">District-level Data Table</h2>
    <p class="section-desc">Detailed statistics for all 6 LCR districts across three census years.</p>
    <div class="map-container">
      <table class="data-table">
        <thead>
          <tr>
            <th>District</th>
            <th>Pop 1991</th>
            <th>Pop 2001</th>
            <th>Pop 2011</th>
            <th>Change 1991‚Äì2011</th>
            <th>Commuter Ratio</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Liverpool City</td><td>452,450</td><td>439,473</td><td>466,415</td><td><span class="pos">+3.1%</span></td><td>1.22</td></tr>
          <tr><td>Knowsley</td><td>156,400</td><td>150,459</td><td>145,906</td><td><span class="neg">-6.7%</span></td><td>0.84</td></tr>
          <tr><td>Sefton</td><td>296,000</td><td>282,957</td><td>272,799</td><td><span class="neg">-7.8%</span></td><td>0.91</td></tr>
          <tr><td>St Helens</td><td>179,000</td><td>176,843</td><td>175,308</td><td><span class="neg">-2.1%</span></td><td>0.96</td></tr>
          <tr><td>Halton</td><td>123,000</td><td>118,208</td><td>125,746</td><td><span class="pos">+2.2%</span></td><td>1.05</td></tr>
          <tr><td>Wirral</td><td>336,000</td><td>312,293</td><td>320,229</td><td><span class="neg">-4.7%</span></td><td>0.87</td></tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- INSIGHTS -->
  <section class="section">
    <h2 class="section-title">Key Planning Insights</h2>
    <div class="insights">
      <div class="insight">
        <div class="insight-icon">üèôÔ∏è</div>
        <div class="insight-title">Urban Core Recovery</div>
        <div class="insight-text">Liverpool City core showed net population growth post-2001, reversing decades of decline ‚Äî driven by regeneration schemes and student influx.</div>
      </div>
      <div class="insight">
        <div class="insight-icon">üöÜ</div>
        <div class="insight-title">Commuter Corridor</div>
        <div class="insight-text">High daytime-to-night-time ratio in Liverpool City (1.22) confirms its role as the primary employment centre, drawing workers from Sefton, Wirral, and Knowsley.</div>
      </div>
      <div class="insight">
        <div class="insight-icon">üè≠</div>
        <div class="insight-title">Industrial Decline</div>
        <div class="insight-text">Knowsley and Sefton experienced the steepest population losses, correlating with post-industrial contraction in manufacturing employment clusters.</div>
      </div>
      <div class="insight">
        <div class="insight-icon">üìä</div>
        <div class="insight-title">Infrastructure Demand</div>
        <div class="insight-text">Halton's modest growth near Runcorn reflects new residential development, creating planning pressure on transport and utility infrastructure.</div>
      </div>
    </div>
  </section>

  <footer>
    <p>Nakul Gangan ¬∑ MSc Geographic Data Science ¬∑ University of Liverpool ¬∑ Data: Office for National Statistics (ONS) Census 1991, 2001, 2011</p>
  </footer>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
<script>
const gridColor = 'rgba(255,255,255,0.07)';
const accent = '#e8b84b';
const teal = '#2ec4b6';
const muted = '#8899bb';

// CHART 1: Population Change Bar
new Chart(document.getElementById('popChangeChart'), {
  type: 'bar',
  data: {
    labels: ['Liverpool City', 'Knowsley', 'Sefton', 'St Helens', 'Halton', 'Wirral'],
    datasets: [{
      label: '% Change 1991‚Äì2011',
      data: [3.1, -6.7, -7.8, -2.1, 2.2, -4.7],
      backgroundColor: [3.1, -6.7, -7.8, -2.1, 2.2, -4.7].map(v => v >= 0 ? 'rgba(46,196,182,0.7)' : 'rgba(248,113,113,0.7)'),
      borderColor: [3.1, -6.7, -7.8, -2.1, 2.2, -4.7].map(v => v >= 0 ? '#2ec4b6' : '#f87171'),
      borderWidth: 1.5,
      borderRadius: 4,
    }]
  },
  options: {
    responsive: true,
    plugins: {
      legend: { display: false },
      title: { display: true, text: 'Population Change 1991‚Äì2011 (%)', color: muted, font: { size: 12 } }
    },
    scales: {
      x: { ticks: { color: muted, font: { size: 10 } }, grid: { color: gridColor } },
      y: { ticks: { color: muted }, grid: { color: gridColor }, title: { display: true, text: '% Change', color: muted } }
    }
  }
});

// CHART 2: Time Series
new Chart(document.getElementById('timeSeriesChart'), {
  type: 'line',
  data: {
    labels: ['1991', '2001', '2011'],
    datasets: [
      { label: 'Liverpool City', data: [452450, 439473, 466415], borderColor: accent, backgroundColor: 'transparent', pointBackgroundColor: accent, tension: 0.4 },
      { label: 'Sefton', data: [296000, 282957, 272799], borderColor: '#f87171', backgroundColor: 'transparent', pointBackgroundColor: '#f87171', tension: 0.4 },
      { label: 'Wirral', data: [336000, 312293, 320229], borderColor: teal, backgroundColor: 'transparent', pointBackgroundColor: teal, tension: 0.4 },
      { label: 'St Helens', data: [179000, 176843, 175308], borderColor: '#a78bfa', backgroundColor: 'transparent', pointBackgroundColor: '#a78bfa', tension: 0.4 },
      { label: 'Halton', data: [123000, 118208, 125746], borderColor: '#34d399', backgroundColor: 'transparent', pointBackgroundColor: '#34d399', tension: 0.4 },
      { label: 'Knowsley', data: [156400, 150459, 145906], borderColor: '#fb923c', backgroundColor: 'transparent', pointBackgroundColor: '#fb923c', tension: 0.4 },
    ]
  },
  options: {
    responsive: true,
    plugins: {
      legend: { labels: { color: muted, font: { size: 10 }, boxWidth: 12 } },
      title: { display: true, text: 'Population Trends by District', color: muted, font: { size: 12 } }
    },
    scales: {
      x: { ticks: { color: muted }, grid: { color: gridColor } },
      y: { ticks: { color: muted }, grid: { color: gridColor } }
    }
  }
});

// CHART 3: Day vs Night
new Chart(document.getElementById('dayNightChart'), {
  type: 'bar',
  data: {
    labels: ['Liverpool City', 'Knowsley', 'Sefton', 'St Helens', 'Halton', 'Wirral'],
    datasets: [
      { label: 'Daytime Population', data: [570000, 122400, 248400, 168300, 132000, 279000], backgroundColor: 'rgba(232,184,75,0.7)', borderColor: accent, borderWidth: 1, borderRadius: 3 },
      { label: 'Night-time (Resident) Pop.', data: [466415, 145906, 272799, 175308, 125746, 320229], backgroundColor: 'rgba(46,196,182,0.5)', borderColor: teal, borderWidth: 1, borderRadius: 3 }
    ]
  },
  options: {
    responsive: true,
    plugins: {
      legend: { labels: { color: muted, font: { size: 11 } } },
      title: { display: true, text: 'Daytime vs Night-time Population ‚Äî Commuting Flow Analysis (2011)', color: muted, font: { size: 12 } }
    },
    scales: {
      x: { ticks: { color: muted }, grid: { color: gridColor } },
      y: { ticks: { color: muted }, grid: { color: gridColor } }
    }
  }
});
</script>
</body>
</html>
